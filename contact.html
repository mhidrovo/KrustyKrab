<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" type="text/css" href="FooterStyle.css">
        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" 
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" 
        crossorigin="anonymous"></script>
        <style>
            .errMsg {
                color: #D20E11; border: solid 1px #d20e11; display:none;  
                padding: 1px 15px;
                }
                form p {
                    margin: 0 40%;
                    color: #fff;
                }
            /* textarea {

            } */
        </style>
    </head>
<body>
    <div id="navBar">
        <!-- logo -->
        <span id="logo">
            <a href="index.html"> <img src="KrustyKrabLogo.png" height="100%"></a>
        </span>

        <span id="pages">
            <!-- Menu -->
            <span class="navBox">
                <a href="menu.html"> Menu </a>
            </span>

            <!-- The Team -->
            <span class="navBox">
                <a href="team.html"> The Team </a>
            </span>

            <!-- Location -->
            <span class="navBox">
                <a href="location.html"> Location </a>
            </span>

            <!-- Events / Gallery -->
            <span class="navBox">
                <a href="gallery.html"> Gallery </a>
            </span>

            <!-- Contact Us -->
            <span class="navBox">
                <a href="contact.html"> Contact Us </a>
            </span>

            <!-- FAQ -->
            <span class="navBox">
                <a href="faq.html"> FAQ </a>
            </span>
    </div>
    <script>

        //TODO:
        //Upload select options making sure its a comment, resume, reservations, or other
        //Add options for date and time if it is reservation, and remove resume of its not job application
        // style the whole page. 
        //
                             
        function validateEmail(email) 
        {
            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }
        function validPhoneNumber()
        {
                var enteredNumber = document.getElementsByName("phone")[0].value;
                var phonenumber = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
                if(phonenumber.test(enteredNumber)){
                    return true; 
                }
                return false;    
        }
        function validate()
        {
            err=false;
            document.getElementById("errFName").style.display = "none";
            document.getElementById("errPhone").style.display = "none";
            document.getElementById("errLName").style.display = "none";
            document.getElementById("errMail").style.display = "none";
            document.getElementById("errCard").style.display = "none";
            with (document.data)
            {
                if (lname.value=="")
                {
                    document.getElementById("errFName").style.display = "inline-block";
                    lname.focus();
                    err=true;
                }
                if (fname.value=="")
                {
                    document.getElementById("errLName").style.display = "inline-block";

                    phone.focus();
                    err=true;
                }
                if(email.value=="" || !(validateEmail(email.value))) 
                {
                    document.getElementById("errMail").style.display = "inline-block";
                    email.focus();
                    err=true;
                }
                if(phone.value==""|| !validPhoneNumber())
                {
                    document.getElementById("errPhone").style.display = "inline-block";
                    phone.focus();
                    err=true;
                }
                if(card.value == "" || !validCard(card.value))
                {
                    document.getElementById("errCard").style.display = "inline-block"
                    card.focus()
                    err = true
                }
            }
            return !err;
        }
        function validCard(inputtxt)
        {
            var cardno = /^(?:3[47][0-9]{13})$/;
            if(inputtxt.value.match(cardno))
                    {
                return true;
                    }
                else
                    {
                    // alert("Not a valid American Express credit card number!");
                        return false;
                    }
        }
        
        window.onload =  function() 
        {
            
            displayAppropriateValue("donate")
            select_choices = document.getElementById("reason")
            select_choices.addEventListener("change", function ()
            {
                displayAppropriateValue(select_choices.value)
            })
            
            // alert(select_choices)
            // alert("hey")
        }
        function displayAppropriateValue(choice)
        {
            if(choice == "donate")
            {
                document.getElementById("myFile").style.display = "none";
                document.getElementById("card").style.display = "inline-block";
                document.getElementById("ResDate").style.display = "none";
                document.getElementById("file").style.display = "none";
            }
            else if(choice == "employment")
            {
                document.getElementById("card").style.display = "none";
                document.getElementById("myFile").style.display = "inline-block";
                document.getElementById("ResDate").style.display = "none";
                document.getElementById("file").style.display = "inline-block";

            }
            else if(choice == "other")
            {
                document.getElementById("myFile").style.display = "none";
                document.getElementById("card").style.display = "none";
                document.getElementById("ResDate").style.display = "none";
                document.getElementById("file").style.display = "none";
            }
            else if(choice == "reservation")
            {
                document.getElementById("myFile").style.display = "none";
                document.getElementById("card").style.display = "none";
                document.getElementById("ResDate").style.display = "inline-block";
                document.getElementById("file").style.display = "none";
                //display calendar or something that checks for appropriate date. 
            }
            // alert(choice)
        }

    </script>

<!-- <p>Click on the "Choose File" button to upload a file:</p> -->

<form 
    action="/action_page.php"
    name="data"
    class="data">
<p>Reason for Contacting</p>
<select name="reason" id="reason">
    <option value="donate">Donation</option>
    <option value="employment">Employment</option>
    <option value="reservation">Make a Reservation</option>
    <option value="other">Other</option>
</select>
<p>First Name*: <input type="text"  name='fname' /></p>
<div id="errFName" class="errMsg" display = "none"> 
    First Name is required</div> 
<p>Last Name*:  <input type="text"  name='lname' /></p>
	<div id="errLName" class="errMsg" display = "none"> 
        Last Name is required</div> 
<p id= "phone">Phone*: <input type="text"  name='phone'/></p>
    <div id="errPhone" class="errMsg" display= "none"> 
        Valid phone number is required</div>
<p id= "card">American Express Credit Card: <input type="text"  name='card'/></p>
<div id="errCard" class="errMsg" display= "none"> 
    Valid credit card is required</div>
<p id= "email">Email*: <input type="text"  name='email'/></p>
    <div id="errMail" class="errMsg" display= "none"> 
        Valid email is required</div>
<p id="ResDate">Set the date for the Reservation*:
    <input type="date" name="date"></p>
    <div id="errDate" class="errMsg" display= "none"> 
        Valid date is required</div>

        <!-- <script>
            var	finalTax = document.getElementById("abc");
            finalTax = "123445";
        </script> -->
    
<p>
<textarea placeholder="Feel free to add any additional information here"></textarea>
</p>
    <!-- <label for="Upload">UPLOAD</label>
    <label for="myFile">UPLOAD</label> -->
    <p id= "file">Resume*: <br><input type="file" id="myFile" label="" value="Upload" class="button">
    <div id="errResume" class="errMsg" display= "none"> 
        Valid file is required</div>            
  <br>
  <!-- <label for="myFile">Upload resume</label> -->
  <input type = "button" value = "Submit" onclick="return validate()"/>
<!-- </p> -->
</form>




    <div id="footer">
		<div class="column left">
			<h4>
				Contact Us
			</h4>

			<div>
				<span>
					social media:
				</span>
				<span>
					<a href="https://www.facebook.com/TheKrustyKrabOfficial" target="blank"><img src="facebook-logo-png-2320.png" height="26px"></a>
				</span>
				<span>
					<a href="https://www.instagram.com/explore/tags/krustykrab/?hl=en" target="blank"><img src="instagram-logo-png-2428.png" height="26px"></a>
				</span>
				<span>
					<a href="https://twitter.com/krustykrabUSA" target="blank"><img src="twitter-logo-png-5860.png" height="26px"></a>
				</span>
			</div>

			<h5>
				email: sponge.bob@krustykrab.com
			</h5>

			<h5>
				address: 831 Bottom Feeder Lane, Bikini Bottom
			</h5>

			<h5>
				Hours: Mon-Fri: 9am to 8pm, Sat-Sun: 10am to 11pm
			</h5>
		</div>

		<div class="column middle">
			<h4>
				Sign up to our newsletter!
			</h4>

			<p style="text-align: center;">
				we will update you on upcoming events, new menu items, and deals!
			</p>

			<form>
				<input type="text" placeholder="email address" name="email" required>
				<input type="submit" value="subscribe" name="subscribe">
			</form>
		</div>

		<div class="column right">
			<h4>
				Navigate
			</h4>

			<div id="navLinks">
				<span class="navigate">
					<p><a href="index.html">Home</a></p>
					<p><a href="menu.html">Menu</a></p>
					<p><a href="team.html">The Team</a></p>
					<p><a href="location.html">Location</a></p>
				</span>
				<span class="navigate">
					<p><a href="events.html">Events</a></p>
					<p><a href="contact.html">Contact Us</a></p>
					<p><a href="faq.html">FAQ</a></p>
				</span>
			</div>

		</div>
	</div>
</body>
</html>